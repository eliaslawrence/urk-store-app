<!--
  Author: Elias Lawrence
  Date: 02/04/2021

  Generated template for the EditVariablePage.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>

    <ion-title>{{pageTitle}}</ion-title>

  </ion-toolbar>
</ion-header>


<ion-content>    
  <form [formGroup]="storeForm">
    <span *ngIf="!isNumber">
      <ion-item style="padding-left: 0; width: 90%; margin: auto; background-color: transparent; margin-top: 50px"  class="focus-item validation-item" lines="none">
        <!-- <ion-input type="text" maxlength="60" placeholder="{{pageTitle}}" formControlName="variable" name="variable" (focus)="variableFocus=true" (blur)="variableFocus=false"
                  [class.invalid-input]="!storeForm.controls.variable.valid && submitAttempt"></ion-input> -->
        <input class="ion-input-style" type="text" formControlName="variable" name="variable" (focus)="variableFocus=true" (blur)="variableFocus=false" mask="A*"
                  [class.invalid-input]="!storeForm.controls.variable.valid && submitAttempt" />
      </ion-item>

      <div style="margin: auto; width: 90%; margin-top: 5px;">
        <div style="float: left; color: #f53d3d; font-size: 0.9rem; padding-left: 8px" *ngIf="!storeForm.controls.variable.valid && !variableFocus && (storeForm.controls.variable.dirty || submitAttempt)">Nome inválido</div>
        <div style="width: 50%; text-align: right; float:right">{{storeForm.value.variable.length}}/60</div>
      </div>
    </span>

    <span *ngIf="isNumber">
      <ion-item detail-none style="padding-left: 0; width: 90%; margin: auto; background-color: transparent; margin-top: 50px"  class="focus-item validation-item">
        <ion-input type="number" placeholder="Nome" formControlName="variable" name="variable" (focus)="variableFocus=true" (blur)="variableFocus=false"
                  [class.invalid-input]="!storeForm.controls.variable.valid && submitAttempt"></ion-input>
      </ion-item>
  
      <div style="margin: auto; width: 90%; margin-top: 5px;">
        <div style="float: left; color: #f53d3d; font-size: 0.9rem; padding-left: 8px" *ngIf="!storeForm.controls.variable.valid && !variableFocus && (storeForm.controls.variable.dirty || submitAttempt)">Número inválido</div>        
      </div>
    </span>
    

    <div style="position: absolute; bottom: 5px; width: 100%; text-align: center;">
      <ion-button block color="light" type="submit" class="block-button" (click)="saveVariable()">Salvar</ion-button>
    </div>
    
  </form>
</ion-content>