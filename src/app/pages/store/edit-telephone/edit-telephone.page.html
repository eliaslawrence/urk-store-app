<!--
  Author: Elias Lawrence
  Date: 02/04/2021

  Generated template for the EditTelephonePage.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>{{pageTitle}}</ion-title>

    <ion-buttons slot="primary" *ngIf="!newItem">
      <ion-button (click)="deleteItem()">
        <ion-icon slot="icon-only" name="trash"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>  
  <form [formGroup]="storeForm">
    <ion-item lines="none" style="padding-left: 0; width: 90%; margin: auto; background-color: transparent; margin-top: 50px"  class="focus-item validation-item">
      <input type="tel" maxlength="60" placeholder="{{pageTitle}}" formControlName="number" name="number" (focus)="itemFocus=true" (blur)="itemFocus=false" mask="(00) 0000-0000 || (00) 0000-00000" class="ion-input-style"
                  [class.invalid-input]="!storeForm.controls.number.valid && submitAttempt"/>
    </ion-item>

    <div style="margin: auto; width: 90%; margin-top: 5px;">
      <div style="float: left; color: #f53d3d; font-size: 0.9rem; padding-left: 8px" *ngIf="!storeForm.controls.number.valid && !itemFocus && (storeForm.controls.number.dirty || submitAttempt)">Telefone inv√°lido</div>        
    </div>    

    <div style="position: absolute; bottom: 5px; width: 100%; text-align: center;">
      <ion-button block color="light" type="submit" class="block-button" (click)="saveItem()">Salvar</ion-button>
    </div>    
  </form>
</ion-content>